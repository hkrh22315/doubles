# スキルレビュー チェックリスト（詳細）

このチェックリストは、Cursorスキル（`SKILL.md` と付随リソース）をレビューする際の判定基準。
指摘は **Critical / Suggestion / Nice to have** に分類する。

## 1. メタデータ（frontmatter）

- [ ] `SKILL.md` のYAML frontmatter は **`name` と `description` のみ**か
- [ ] `name` は `lowercase + hyphen`（例: `skill-review`）で64文字以内か
- [ ] `description` は空でなく、1024文字以内を意識しているか
- [ ] `description` は第三者記述で、発火キーワードを含むか（例: 「スキル」「SKILL.md」「Cursor skills」など）

## 2. 目的とスコープ

- [ ] スキルの目的が1〜2文で説明できるか（曖昧な万能化を避ける）
- [ ] 対象範囲（例: レビュー対象のファイル、含める/含めないこと）が明記されているか
- [ ] 入力として必要な情報（対象パス、diff、前提）が書かれているか

## 3. 発火条件（descriptionの品質）

- [ ] WHAT（何をする）+ WHEN（いつ使う）を両方含むか
- [ ] 典型的なユーザー発話を想定したトリガ語が含まれるか
- [ ] あいまい語だけになっていないか（例:「手伝う」「サポート」だけ、など）

## 4. 構造（読みやすさ / Progressive Disclosure）

- [ ] `SKILL.md` 本文が肥大化していないか（目安: 500行未満）
- [ ] 詳細は `references/` に逃がし、`SKILL.md` は最小手順に収まっているか
- [ ] 参照は **1段**で辿れるか（深い参照ネストを作らない）
- [ ] 用語（例: スキル/Skill、frontmatter/メタデータ、レビュー/監査）を統一しているか

## 5. 手順（実行可能性）

- [ ] 手順が順序立てて書かれているか（「まず何を読む/確認する」）
- [ ] 分岐がある場合、条件と次のアクションが明確か
- [ ] 「確認して」「適宜」など丸投げ表現が多すぎないか
- [ ] 出力形式が明示され、レビュー結果が再現性を持つか

## 6. 出力（レビュー結果の品質）

- [ ] 指摘が「どこ（ファイル/節）」「何」「なぜ」「どう直す」のセットになっているか
- [ ] Severity の定義が明確で、分類が一貫するか
- [ ] 重要な指摘が埋もれない構成か（Summary→Findings→Risks→Changes）
- [ ] 具体的な改善案が差分レベルで書かれているか（可能な範囲で）

## 7. セキュリティ / 安全性（必須）

- [ ] APIキー/シークレット/個人情報を **例・テンプレ・ログ** に含めない
- [ ] 資格情報は環境変数利用を促し、ハードコードを禁止しているか
- [ ] 破壊的操作（削除、強制上書き、force push、資格情報出力等）を安易に推奨していないか
- [ ] 危険操作が必要な場合、ガードレール（事前バックアップ、対象限定、確認手順、ロールバック）があるか
- [ ] ログ/出力に機密情報を含めない注意があるか

## 8. リポジトリ運用への整合性

- [ ] `.cursorrules` / `.cursor/rules/*.mdc` と矛盾しないか（言語、運用、通知等）
- [ ] 既存スキルと役割が重複しても衝突しないか（重複時の使い分けが明確か）
- [ ] OS/シェル前提が必要なら明記されているか（Windows/PowerShellなど）
- [ ] プロジェクト内パスは Windows 形式（`\\`）固定になっていないか（ドキュメント上は `/` を推奨）

## 9. スクリプト同梱時（scripts/）

スキルが `scripts/` を持つ場合のみ確認:

- [ ] スクリプトが何を解決するか明確か（丸投げではない）
- [ ] 実行コマンド例が安全で、対象が限定されているか
- [ ] 依存パッケージや実行環境前提が明示されているか
- [ ] エラー時のメッセージや復旧手順があるか
- [ ] 冪等性（同じ操作を繰り返しても壊れない）や副作用の説明があるか

## 10. よくある落とし穴（見つけたら指摘）

- [ ] description が抽象的で発火しない（または誤発火する）
- [ ] `SKILL.md` が長すぎて要点が埋もれる
- [ ] 参照リンク切れ / 深すぎる参照階層
- [ ] 危険コマンドの手順だけ書かれてガードレールがない
- [ ] 機密情報が例文に混入している（ダミーでも「それっぽい鍵」を避ける）

