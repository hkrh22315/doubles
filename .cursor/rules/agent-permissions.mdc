---
description: エージェントが無許可で実行してよい操作範囲（プロジェクト内編集OK、プロジェクト外は要許可）
alwaysApply: true
---

1. ## 作用範囲の定義
   1. プロジェクト内とは、現在開いているワークスペース（リポジトリ）のルート配下（ワークスペース内）を指す。
   2. 例として、`mkcoin/.cursor` を開いているときは `mkcoin/` 配下がプロジェクト内、`kabuweb/.cursor` を開いているときは `kabuweb/` 配下がプロジェクト内とする。
   3. プロジェクト外とはワークスペースルート外のパス（ユーザーディレクトリ全体、他リポジトリ、システム領域等）を指す。
2. ## 無許可でOK_プロジェクト内の読み取り
   1. プロジェクト内ファイルの閲覧、検索、要約、差分確認を無許可で行ってよい。
3. ## 無許可でOK_プロジェクト内の作成と編集
   1. プロジェクト内ファイルの新規作成、編集、追記、リネーム、移動を無許可で行ってよい。
   2. ただし大量変更（広範囲な置換や大規模リネーム等）は、実行前に方針を短く説明すること。
4. ## 無許可でOK_読み取り専用のGit確認
   1. `git status` / `git diff` / `git log` 等の参照専用コマンドは無許可で実行してよい。
5. ## 無許可でOK_テストの実行
   1. テストの実行に用いるコマンド（`pytest`、`python -m pytest`、`tox`、`unittest` 等、プロジェクト内のテスト実行に限る）は無許可で実行してよい。
6. ## 要許可_プロジェクト外への変更
   1. プロジェクト外のファイル/ディレクトリの作成、編集、削除、移動、リネームは必ず許可を取ること。
7. ## 要許可_破壊的操作
   1. プロジェクト内であっても、ファイル/ディレクトリ削除や、復元が難しい操作は必ず許可を取ること。
   2. 履歴を書き換えるGit操作（例: `reset --hard`、強制プッシュ等）は必ず許可を取ること。
8. ## 要許可_依存関係と環境変更
   1. 依存関係の追加/更新（例: `pip install`、`requirements.txt` の更新を伴う実行）は必ず許可を取ること。
   2. OS/シェル設定、エディタ設定、ランタイム設定等の環境変更は必ず許可を取ること。
9. ## 要許可_ネットワーク通信と外部作用
   1. 外部API呼び出し、取引の発注、Webアクセス等、ネットワーク通信を伴う実行は必ず許可を取ること。
   2. ただし、https://docs.cursor.com への参照用（読み取り専用）の fetch は無許可で行ってよい。
10. ## 要許可_Gitの書き込み操作
   1. `git commit` / `git push` / タグ作成 / リリース / PR作成は必ず許可を取ること。
11. ## 要許可_秘密情報の取り扱い
   1. `.env` 等の実ファイル作成、資格情報の保存、秘密情報を含みうるファイルのコミットは必ず許可を取ること。
13. ## 不明点は要許可
   1. 上記で判断できない場合は、安全側に倒して許可を取ること。
